data:application/json;base64,ewogICAgIm5hbWUiOiAiIiwKICAgICJkZXNjcmlwdGlvbiI6ICIiLAogICAgImVuY3J5cHQiOiBmYWxzZSwKICAgICJjcmVhdGVkIjogIjIwMjQtMDEtMTggMDI6NTU6NTIgQU0iLAogICAgImNvbnRlbnQiOiB7CiAgICAgICAgImNyZWF0ZWQiOiAiMjAyNC0wMS0xOCAwMjo1NTo1MiBBTSIsCiAgICAgICAgInByb2plY3ROYW1lIjogImhlbGxvLXdvcmxkIiwKICAgICAgICAicm9vdFBhdGgiOiAicHJvamVjdHMvaGVsbG8td29ybGQiLAogICAgICAgICJmb2xkZXJzIjogewogICAgICAgICAgICAicm9vdCI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiZGVzdGluYXRpb24iOiAidHNjb25maWcuanNvbiIsCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiOiAie1xuICAgIFwiY29tcGlsZXJPcHRpb25zXCI6IHtcbiAgICAgICAgXCJ0YXJnZXRcIjogXCJFUzIwMTlcIixcbiAgICAgICAgXCJtb2R1bGVcIjogXCJlczIwMjJcIixcbiAgICAgICAgXCJsaWJcIjogW1xuICAgICAgICAgICAgXCJkb21cIixcbiAgICAgICAgICAgIFwiZXNuZXh0XCJcbiAgICAgICAgXSxcbiAgICAgICAgXCJvdXREaXJcIjogXCIuL2NvbnRyYWN0cy9idWlsZFwiLFxuICAgICAgICBcInJvb3REaXJcIjogXCIuL2NvbnRyYWN0c1wiLFxuICAgICAgICBcInN0cmljdFwiOiB0cnVlLFxuICAgICAgICBcInN0cmljdFByb3BlcnR5SW5pdGlhbGl6YXRpb25cIjogZmFsc2UsXG4gICAgICAgIFwic2tpcExpYkNoZWNrXCI6IHRydWUsXG4gICAgICAgIFwiZm9yY2VDb25zaXN0ZW50Q2FzaW5nSW5GaWxlTmFtZXNcIjogdHJ1ZSxcbiAgICAgICAgXCJlc01vZHVsZUludGVyb3BcIjogdHJ1ZSxcbiAgICAgICAgXCJyZXNvbHZlSnNvbk1vZHVsZVwiOiB0cnVlLFxuICAgICAgICBcIm1vZHVsZVJlc29sdXRpb25cIjogXCJub2RlXCIsXG4gICAgICAgIFwiZXhwZXJpbWVudGFsRGVjb3JhdG9yc1wiOiB0cnVlLFxuICAgICAgICBcImVtaXREZWNvcmF0b3JNZXRhZGF0YVwiOiB0cnVlLFxuICAgICAgICBcImFsbG93SnNcIjogdHJ1ZSxcbiAgICAgICAgXCJkZWNsYXJhdGlvblwiOiBmYWxzZSxcbiAgICAgICAgXCJzb3VyY2VNYXBcIjogZmFsc2UsXG4gICAgICAgIFwibm9GYWxsdGhyb3VnaENhc2VzSW5Td2l0Y2hcIjogdHJ1ZSxcbiAgICAgICAgXCJhbGxvd1N5bnRoZXRpY0RlZmF1bHRJbXBvcnRzXCI6IHRydWUsXG4gICAgICAgIFwiaXNvbGF0ZWRNb2R1bGVzXCI6IHRydWVcbiAgICB9LFxuICAgIFwiaW5jbHVkZVwiOiBbXG4gICAgICAgIFwiLi9jb250cmFjdHMvKiovKi50c1wiXG4gICAgXSxcbiAgICBcImV4Y2x1ZGVcIjogW1xuICAgICAgICBcIi4vY29udHJhY3RzL2J1aWxkXCJcbiAgICBdXG59IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICAiYmFja2VuZCI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiZGVzdGluYXRpb24iOiAiYmFja2VuZC8wLWNyZWF0ZS1hY2NvdW50cy5tZCIsCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiOiAiIyBVc2luZyBFYXN5TWluYSB0byBDcmVhdGUgQWNjb3VudHNcblxuVGhpcyBzY3JpcHQgZGVtb25zdHJhdGVzIHRoZSB1c2FnZSBvZiB0aGUgYEVhc3lNaW5hYCBtb2R1bGUgdG8gY3JlYXRlIGFjY291bnRzIGluIHRoZSBjb250ZXh0IG9mIHRoZSBNaW5hIFByb3RvY29sIGJsb2NrY2hhaW4uIFRoZSBzY3JpcHQgaW5jbHVkZXMgdGhlIGZvbGxvd2luZyBzdGVwczpcblxuIyMgSW1wb3J0aW5nIHRoZSBFYXN5TWluYSBNb2R1bGVcblxuYGBgamF2YXNjcmlwdFxuaW1wb3J0IHsgRWFzeU1pbmEgfSBmcm9tICdlYXN5bWluYSdcbmBgYFxuXG5JbiB0aGlzIGxpbmUsIHdlIGltcG9ydCB0aGUgYEVhc3lNaW5hYCBjbGFzcyBmcm9tIGEgbW9kdWxlIGxvY2F0ZWQgYXQgYGVhc3ltaW5hYC4gVGhlIGBFYXN5TWluYWAgY2xhc3MgaXMgYSB1dGlsaXR5IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBNaW5hIFByb3RvY29sLlxuXG4jIyBJbml0aWFsaXppbmcgRWFzeU1pbmFcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ+KcqCBBZGRpbmcgRWFzeU1pbmEuLi4nKVxuY29uc3QgZWFzeU1pbmEgPSBuZXcgRWFzeU1pbmEoIHsgJ25ldHdvcmtOYW1lJzogJ2JlcmtlbGV5JyB9KVxuYGBgXG5cbkhlcmUsIHdlIGluaXRpYWxpemUgYW4gaW5zdGFuY2Ugb2YgdGhlIGBFYXN5TWluYWAgY2xhc3MgYnkgcHJvdmlkaW5nIGFuIG9iamVjdCB3aXRoIHRoZSBgJ25ldHdvcmtOYW1lJ2Agc2V0IHRvIGAnYmVya2VsZXknYC4gVGhpcyBjb25maWd1cmF0aW9uIGxpa2VseSBzcGVjaWZpZXMgdGhlIG5ldHdvcmsgZW52aXJvbm1lbnQgdG8gaW50ZXJhY3Qgd2l0aC5cblxuIyMgQ3JlYXRpbmcgQWNjb3VudHNcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/CflJEgQ3JlYXRpbmcgQWNjb3VudHMuLi4nKVxuY29uc3QgZGVwbG95ZXJzID0gYXdhaXQgZWFzeU1pbmEuY3JlYXRlQWNjb3VudHMoe1xuICAgICduYW1lcyc6IFsnYWxpY2UnLCAnYm9iJywgJ2NoYXJsaWUnXSxcbiAgICAnZ3JvdXBOYW1lJzogJ2EnXG59KVxuYGBgXG5cblRoaXMgc2VjdGlvbiBpbml0aWFsaXplcyB0aGUgYWNjb3VudCBjcmVhdGlvbiBwcm9jZXNzIGJ5IHV0aWxpemluZyB0aGUgYGNyZWF0ZUFjY291bnRzYCBtZXRob2QgcHJvdmlkZWQgYnkgdGhlIGBlYXN5TWluYWAgaW5zdGFuY2UuIEl0IGNyZWF0ZXMgdGhyZWUgYWNjb3VudHMgbmFtZWQgJ2FsaWNlLCcgJ2JvYiwnIGFuZCAnY2hhcmxpZScgYW5kIGFzc2lnbnMgdGhlbSB0byB0aGUgJ2EnIGdyb3VwLiBJZiB0aGUgYWNjb3VudCBhbHJlYWR5IGV4aXN0cywgdGhlIHByb2Nlc3MgaXMgc2tpcHBlZC4gVGhlIHVzZSBvZiB0aGUgYGF3YWl0YCBrZXl3b3JkIGluZGljYXRlcyB0aGF0IHRoaXMgb3BlcmF0aW9uIGlzIGFzeW5jaHJvbm91cyBhbmQgcmV0dXJucyBhIGxpc3Qgb2YgdGhlIGNyZWF0ZWQgYWNjb3VudHMuXG5cbiMjIFJlYWR5IHRvIERlcGxveVxuXG5gYGBqYXZhc2NyaXB0XG5jb25zb2xlLmxvZygn8J+agCBEZXBsb3llcnMgUmVhZHkuJylcbmBgYFxuXG5GaW5hbGx5LCB0aGUgc2NyaXB0IGluZGljYXRlcyB0aGF0IHRoZSBkZXBsb3llcnMgKGNyZWF0ZWQgYWNjb3VudHMpIGFyZSByZWFkeSBmb3IgdXNlLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImRlc3RpbmF0aW9uIjogImJhY2tlbmQvMC1jcmVhdGUtYWNjb3VudHMubWpzIiwKICAgICAgICAgICAgICAgICAgICAiY29udGVudCI6ICJcbmltcG9ydCAqIGFzIG8xanMgZnJvbSAnbzFqcydcbmltcG9ydCB7IEVhc3lNaW5hIH0gZnJvbSAnZWFzeW1pbmEnXG5cbmNvbnNvbGUubG9nKCfinKggQWRkaW5nIEVhc3lNaW5hLi4uJylcbmNvbnN0IGVhc3lNaW5hID0gbmV3IEVhc3lNaW5hKCB7ICduZXR3b3JrTmFtZSc6ICdiZXJrZWxleScsIG8xanMgfSlcblxuY29uc29sZS5sb2coJ/CflJEgQ3JlYXRpbmcgQWNjb3VudHMuLi4nKVxuY29uc3QgZGVwbG95ZXJzID0gYXdhaXQgZWFzeU1pbmEuY3JlYXRlQWNjb3VudHMoe1xuICAgICduYW1lcyc6IFsnYWxpY2UnLCAnYm9iJywgJ2NoYXJsaWUnXSxcbiAgICAnZ3JvdXBOYW1lJzogJ2EnXG59KVxuXG5jb25zb2xlLmxvZygn8J+agCBEZXBsb3llcnMgUmVhZHkuJylcbiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImRlc3RpbmF0aW9uIjogImJhY2tlbmQvMS1kZXBsb3ktc21hcnQtY29udHJhY3QubWQiLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50IjogIiMgRGVwbG95aW5nIGEgU21hcnQgQ29udHJhY3Qgb24gTWluYSBQcm90b2NvbFxuXG5UaGlzIHNjcmlwdCBkZW1vbnN0cmF0ZXMgdGhlIHByb2Nlc3Mgb2YgZGVwbG95aW5nIGEgc21hcnQgY29udHJhY3Qgb24gdGhlIE1pbmEgUHJvdG9jb2wgYmxvY2tjaGFpbiB1c2luZyB0aGUgYG8xanNgIGxpYnJhcnkuIEl0IGluY2x1ZGVzIHRoZSBmb2xsb3dpbmcgc3RlcHM6XG5cbiMjIEltcG9ydGluZyBOZWNlc3NhcnkgTW9kdWxlc1xuXG5gYGBqYXZhc2NyaXB0XG5pbXBvcnQgeyBNaW5hLCBBY2NvdW50VXBkYXRlIH0gZnJvbSAnbzFqcydcbmltcG9ydCB7IEVhc3lNaW5hIH0gZnJvbSAnZWFzeW1pbmEnXG5pbXBvcnQgeyBTcXVhcmUgfSBmcm9tICcuLi9jb250cmFjdHMvYnVpbGQvU3F1YXJlLmpzJ1xuYGBgXG5cbkluIHRoaXMgc2VjdGlvbiwgd2UgaW1wb3J0IHRoZSByZXF1aXJlZCBtb2R1bGVzIGFuZCBsaWJyYXJpZXMgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIE1pbmEgUHJvdG9jb2wuIGBvMWpzYCBwcm92aWRlcyBlc3NlbnRpYWwgZnVuY3Rpb25hbGl0eSwgYW5kIHdlIGFsc28gaW1wb3J0IHRoZSBgRWFzeU1pbmFgIGNsYXNzIGFuZCBhIHNtYXJ0IGNvbnRyYWN0IGNsYXNzIG5hbWVkIGBTcXVhcmVgLlxuXG4jIyBTZXR0aW5nIFVwIHRoZSBNaW5hIE5ldHdvcmtcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/CfjJAgQWRkaW5nIE5ldHdvcmsnKVxuY29uc3QgQmVya2VsZXkgPSBNaW5hLk5ldHdvcmsoIFxuICAgICAnaHR0cHM6Ly9wcm94eS5iZXJrZWxleS5taW5hZXhwbG9yZXIuY29tL2dyYXBocWwnIFxuICAgIC8vJ2h0dHBzOi8vYXBpLm1pbmFzY2FuLmlvL25vZGUvYmVya2VsZXkvdjEvZ3JhcGhxbCdcbilcbk1pbmEuc2V0QWN0aXZlSW5zdGFuY2UoQmVya2VsZXkpXG5gYGBcblxuSGVyZSwgd2Ugc3BlY2lmeSBhbmQgYWN0aXZhdGUgdGhlIE1pbmEgbmV0d29yayBieSBwcm92aWRpbmcgdGhlIEdyYXBoUUwgZW5kcG9pbnQuIFRoZSBzY3JpcHQgaXMgY29uZmlndXJlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBCZXJrZWxleSBuZXR3b3JrIG9mIHRoZSBNaW5hIFByb3RvY29sLlxuXG4jIyBJbml0aWFsaXppbmcgRWFzeU1pbmFcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ+KcqCBBZGRpbmcgRWFzeU1pbmEnKVxuY29uc3QgZWFzeU1pbmEgPSBuZXcgRWFzeU1pbmEoIHsgJ25ldHdvcmtOYW1lJzogJ2JlcmtlbGV5JyB9IClcbmBgYFxuXG5XZSBpbml0aWFsaXplIGFuIGluc3RhbmNlIG9mIHRoZSBgRWFzeU1pbmFgIGNsYXNzLCBzcGVjaWZ5aW5nIHRoZSBuZXR3b3JrIG5hbWUgYXMgJ2JlcmtlbGV5LicgVGhpcyBpbnN0YW5jZSBzaW1wbGlmaWVzIHZhcmlvdXMgaW50ZXJhY3Rpb25zIHdpdGggdGhlIE1pbmEgUHJvdG9jb2wuXG5cbiMjIEltcG9ydGluZyBBY2NvdW50c1xuXG5gYGBqYXZhc2NyaXB0XG5jb25zb2xlLmxvZygn8J+UkSBJbXBvcnRpbmcgQWNjb3VudHMnKVxuY29uc3QgZGVwbG95ZXIgPSBhd2FpdCBlYXN5TWluYS5nZXRBY2NvdW50KCB7XG4gICAgJ25hbWUnOiAnYWxpY2UnLFxuICAgICdncm91cE5hbWUnOiAnYScsXG4gICAgJ2NoZWNrU3RhdHVzJzogdHJ1ZSwgLy8gb3B0aW9uYWwsIGNoZWNrcyBpZiBhY2NvdW50IGhhcyBiYWxhbmNlXG4gICAgJ3N0cmljdCc6IHRydWUgLy8gb3B0aW9uYWwsIHRocm93IGFuIGVycm9yIGlmIGFjY291bnQgaGFzIG5vIGJhbGFuY2Vcbn0gKVxuY29uc29sZS5sb2coJyAgIEV4cGxvcmVyOicsIGRlcGxveWVyWydleHBsb3JlciddKVxuYGBgXG5cblRoaXMgc2VjdGlvbiBpbXBvcnRzIGFuIGFjY291bnQgbmFtZWQgJ2FsaWNlJyBmcm9tIHRoZSAnYScgZ3JvdXAgdXNpbmcgdGhlIGBnZXRBY2NvdW50YCBtZXRob2QuIEl0IG9wdGlvbmFsbHkgY2hlY2tzIHRoZSBhY2NvdW50J3Mgc3RhdHVzIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlIGFjY291bnQgaGFzIG5vIGJhbGFuY2UuIFRoZSBhY2NvdW50IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlICdleHBsb3JlcicgcHJvcGVydHksIGlzIGxvZ2dlZC5cblxuIyMgSW1wb3J0aW5nIGFuZCBDb21waWxpbmcgdGhlIENvbnRyYWN0XG5cbmBgYGphdmFzY3JpcHRcbmNvbnNvbGUubG9nKCfwn5OcIEltcG9ydGluZyBDb250cmFjdCcpXG5jb25zdCBjb250cmFjdCA9IGF3YWl0IGVhc3lNaW5hLnJlcXVlc3RDb250cmFjdCgge1xuICAgICduYW1lJzogJ3NxdWFyZScsXG4gICAgJ3NvdXJjZVBhdGgnOiAnLi4vY29udHJhY3RzL2J1aWxkL1NxdWFyZS5qcycsXG4gICAgZGVwbG95ZXJcbn0gKVxuXG5jb25zb2xlLmxvZygn8J+nsCBDb21waWxpbmcgQ2xhc3MnKVxuY29uc3QgemtBcHAgPSBuZXcgU3F1YXJlKGNvbnRyYWN0WydwdWJsaWNLZXknXVsnZmllbGQnXSlcbmNvbnN0IHsgdmVyaWZpY2F0aW9uS2V5IH0gPSBhd2FpdCBTcXVhcmUuY29tcGlsZSgpXG5gYGBcblxuSW4gdGhpcyBwYXJ0LCB0aGUgc2NyaXB0IGltcG9ydHMgdGhlICdzcXVhcmUnIGNvbnRyYWN0IGFuZCBjb21waWxlcyBpdC4gVGhlIGNvbnRyYWN0J3MgcHVibGljIGtleSBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGB6a0FwcGAgb2JqZWN0LiBUaGUgdmVyaWZpY2F0aW9uIGtleSBpcyBleHRyYWN0ZWQgZnJvbSB0aGUgY29tcGlsZWQgY29udHJhY3QuXG5cbiMjIFByZXBhcmluZyBhbmQgUHJvdmluZyBUcmFuc2FjdGlvbnNcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/CfmoAgUHJlcGFyaW5nIFRyYW5zYWN0aW9ucycpXG5jb25zdCB0eCA9IGF3YWl0IE1pbmEudHJhbnNhY3Rpb24oXG4gICAge1xuICAgICAgICAnZmVlUGF5ZXJLZXknOiBkZXBsb3llclsncHJpdmF0ZUtleSddWydmaWVsZCddLFxuICAgICAgICAnZmVlJzogMTAwXzAwMF8wMDAsXG4gICAgICAgICdtZW1vJzogJ2hlbGxvIHdvcmxkISdcbiAgICB9LFxuICAgICgpID0+IHtcbiAgICAgICAgQWNjb3VudFVwZGF0ZS5mdW5kTmV3QWNjb3VudChkZXBsb3llclsncHJpdmF0ZUtleSddWydmaWVsZCddKVxuICAgICAgICB6a0FwcC5kZXBsb3koe1xuICAgICAgICAgICAgJ3prYXBwS2V5JzogY29udHJhY3RbJ3ByaXZhdGVLZXknXVsnZmllbGQnXSxcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbktleSxcbiAgICAgICAgICAgICd6a0FwcFVyaSc6ICdoZWxsby13b3JsZCdcbiAgICAgICAgfSlcbiAgICAgICAgemtBcHAuaW5pdCgpXG4gICAgfVxuKVxuXG5jb25zb2xlLmxvZygn8J+UjSBQcm92aW5nIFRyYW5zYWN0aW9uJylcbmF3YWl0IHR4LnByb3ZlKClcbmBgYFxuXG5IZXJlLCB0aGUgc2NyaXB0IHByZXBhcmVzIGFuZCBjb25maWd1cmVzIGEgdHJhbnNhY3Rpb24sIHNwZWNpZnlpbmcgdGhlIGZlZSwgZmVlIHBheWVyLCBhbmQgbWVtby4gSXQgZnVuZHMgdGhlIGRlcGxveWVyIGFjY291bnQgYW5kIGRlcGxveXMgdGhlICd6a0FwcCcgd2l0aCBpdHMgYXNzb2NpYXRlZCBrZXlzIGFuZCBhICd6a0FwcFVyaS4nIEFmdGVyd2FyZCwgaXQgcHJvdmVzIHRoZSB0cmFuc2FjdGlvbi5cblxuIyMgU2lnbmluZyBhbmQgU2VuZGluZyBUcmFuc2FjdGlvbnNcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ+Kcje+4jyAgU2lnbmluZyBUcmFuc2FjdGlvbicpXG5jb25zdCBzaWduZWRNZXNzYWdlID0gdHguc2lnbihbIFxuICAgIGRlcGxveWVyWydwcml2YXRlS2V5J11bJ2ZpZWxkJ10sIFxuICAgIGNvbnRyYWN0Wydwcml2YXRlS2V5J11bJ2ZpZWxkJ10gXG5dKVxuXG5jb25zb2xlLmxvZygn8J+amiBTZW5kaW5nIFRyYW5zYWN0aW9uJylcbmNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2lnbmVkTWVzc2FnZS5zZW5kKClcbmBgYFxuXG5UaGlzIHNlY3Rpb24gc2lnbnMgdGhlIHRyYW5zYWN0aW9uIHdpdGggdGhlIGRlcGxveWVyJ3MgYW5kIGNvbnRyYWN0J3MgcHJpdmF0ZSBrZXlzLiBUaGVuLCBpdCBzZW5kcyB0aGUgc2lnbmVkIHRyYW5zYWN0aW9uLlxuXG4jIyBTYXZpbmcgdGhlIERlcGxveWVkIENvbnRyYWN0XG5cbmBgYGphdmFzY3JpcHRcbmNvbnNvbGUubG9nKCfwn5K+IFNhdmluZyBDb250cmFjdCcpXG5jb25zdCBkZXBsb3llZENvbnRyYWN0ID0gYXdhaXQgZWFzeU1pbmEuc2F2ZUNvbnRyYWN0KHsgXG4gICAgcmVzcG9uc2UsXG4gICAgdmVyaWZpY2F0aW9uS2V5XG59KVxuXG5jb25zb2xlLmxvZygnICAgRXhwbG9yZXI6JywgZGVwbG95ZWRDb250cmFjdFsnaGVhZGVyJ11bJ3R4SGFzaEV4cGxvcmVyJ10pXG5gYGBcblxuRmluYWxseSwgdGhlIHNjcmlwdCBzYXZlcyB0aGUgZGVwbG95ZWQgY29udHJhY3QgYW5kIGxvZ3MgaXRzIGFzc29jaWF0ZWQgdHJhbnNhY3Rpb24gaGFzaCBpbiB0aGUgZXhwbG9yZXIuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiZGVzdGluYXRpb24iOiAiYmFja2VuZC8xLWRlcGxveS1zbWFydC1jb250cmFjdC5tanMiLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50IjogImltcG9ydCAqIGFzIG8xanMgZnJvbSAnbzFqcydcbmltcG9ydCB7IE1pbmEsIEFjY291bnRVcGRhdGUgfSBmcm9tICdvMWpzJ1xuLy8gaW1wb3J0IHsgRWFzeU1pbmEgfSBmcm9tICdlYXN5bWluYSdcbmltcG9ydCB7IEVhc3lNaW5hIH0gZnJvbSAnZWFzeW1pbmEnXG5pbXBvcnQgeyBTcXVhcmUgfSBmcm9tICcuLi9jb250cmFjdHMvYnVpbGQvU3F1YXJlLmpzJ1xuXG5jb25zb2xlLmxvZygn8J+MkCBBZGRpbmcgTmV0d29yaycpXG5jb25zdCBCZXJrZWxleSA9IE1pbmEuTmV0d29yayggXG4gICAgICdodHRwczovL3Byb3h5LmJlcmtlbGV5Lm1pbmFleHBsb3Jlci5jb20vZ3JhcGhxbCcgXG4gICAgLy8naHR0cHM6Ly9hcGkubWluYXNjYW4uaW8vbm9kZS9iZXJrZWxleS92MS9ncmFwaHFsJ1xuKVxuTWluYS5zZXRBY3RpdmVJbnN0YW5jZShCZXJrZWxleSlcblxuY29uc29sZS5sb2coJ+KcqCBBZGRpbmcgRWFzeU1pbmEnKVxuY29uc3QgZWFzeU1pbmEgPSBuZXcgRWFzeU1pbmEoIHsgJ25ldHdvcmtOYW1lJzogJ2JlcmtlbGV5JywgbzFqcyB9IClcblxuY29uc29sZS5sb2coJ/CflJEgSW1wb3J0aW5nIEFjY291bnRzJylcbmNvbnN0IGRlcGxveWVyID0gYXdhaXQgZWFzeU1pbmEuZ2V0QWNjb3VudCgge1xuICAgICduYW1lJzogJ2JvYicsXG4gICAgJ2dyb3VwTmFtZSc6ICdhJyxcbiAgICAnY2hlY2tTdGF0dXMnOiB0cnVlLCAvLyBvcHRpb25hbCwgY2hlY2tzIGlmIGFjY291bnQgaGFzIGJhbGFuY2VcbiAgICAnc3RyaWN0JzogdHJ1ZSAvLyBvcHRpb25hbCwgdGhyb3cgYW4gZXJyb3IgaWYgYWNjb3VudCBoYXMgbm8gYmFsYW5jZVxufSApXG5jb25zb2xlLmxvZygnICAgRXhwbG9yZXI6JywgZGVwbG95ZXJbJ2V4cGxvcmVyJ10pXG5cbmNvbnNvbGUubG9nKCfwn5OcIEltcG9ydGluZyBDb250cmFjdCcpXG5jb25zdCBjb250cmFjdCA9IGF3YWl0IGVhc3lNaW5hLnJlcXVlc3RDb250cmFjdCgge1xuICAgICduYW1lJzogJ3NxdWFyZScsXG4gICAgJ3NvdXJjZVBhdGgnOiAnLi4vY29udHJhY3RzL2J1aWxkL1NxdWFyZS5qcycsXG4gICAgZGVwbG95ZXJcbn0gKVxuXG5jb25zb2xlLmxvZygn8J+nsCBDb21waWxpbmcgQ2xhc3MnKVxuY29uc3QgemtBcHAgPSBuZXcgU3F1YXJlKGNvbnRyYWN0WydwdWJsaWNLZXknXVsnZmllbGQnXSlcbmNvbnN0IHsgdmVyaWZpY2F0aW9uS2V5IH0gPSBhd2FpdCBTcXVhcmUuY29tcGlsZSgpXG5cbmNvbnNvbGUubG9nKCfwn5qAIFByZXBhcmluZyBUcmFuc2FjdGlvbnMnKVxuY29uc3QgdHggPSBhd2FpdCBNaW5hLnRyYW5zYWN0aW9uKFxuICAgIHtcbiAgICAgICAgJ2ZlZVBheWVyS2V5JzogZGVwbG95ZXJbJ3ByaXZhdGVLZXknXVsnZmllbGQnXSxcbiAgICAgICAgJ2ZlZSc6IDEwMF8wMDBfMDAwLFxuICAgICAgICAnbWVtbyc6ICdoZWxsbyB3b3JsZCEnXG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICAgIEFjY291bnRVcGRhdGUuZnVuZE5ld0FjY291bnQoZGVwbG95ZXJbJ3ByaXZhdGVLZXknXVsnZmllbGQnXSlcbiAgICAgICAgemtBcHAuZGVwbG95KHtcbiAgICAgICAgICAgICd6a2FwcEtleSc6IGNvbnRyYWN0Wydwcml2YXRlS2V5J11bJ2ZpZWxkJ10sXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25LZXksXG4gICAgICAgICAgICAnemtBcHBVcmknOiAnaGVsbG8td29ybGQnXG4gICAgICAgIH0pXG4gICAgICAgIHprQXBwLmluaXQoKVxuICAgIH1cbilcblxuY29uc29sZS5sb2coJ/CflI0gUHJvdmluZyBUcmFuc2FjdGlvbicpXG5hd2FpdCB0eC5wcm92ZSgpXG5cbmNvbnNvbGUubG9nKCfinI3vuI8gIFNpZ25pbmcgVHJhbnNhY3Rpb24nKVxuY29uc3Qgc2lnbmVkTWVzc2FnZSA9IHR4LnNpZ24oWyBcbiAgICBkZXBsb3llclsncHJpdmF0ZUtleSddWydmaWVsZCddLCBcbiAgICBjb250cmFjdFsncHJpdmF0ZUtleSddWydmaWVsZCddIFxuXSlcblxuY29uc29sZS5sb2coJ/CfmpogU2VuZGluZyBUcmFuc2FjdGlvbicpXG5jb25zdCByZXNwb25zZSA9IGF3YWl0IHNpZ25lZE1lc3NhZ2Uuc2VuZCgpXG5cbmNvbnNvbGUubG9nKCfwn5K+IFNhdmluZyBDb250cmFjdCcpXG5jb25zdCBkZXBsb3llZENvbnRyYWN0ID0gYXdhaXQgZWFzeU1pbmEuc2F2ZUNvbnRyYWN0KHsgXG4gICAgcmVzcG9uc2UsXG4gICAgdmVyaWZpY2F0aW9uS2V5XG59KVxuXG5jb25zb2xlLmxvZygnICAgRXhwbG9yZXI6JywgZGVwbG95ZWRDb250cmFjdFsnaGVhZGVyJ11bJ3R4SGFzaEV4cGxvcmVyJ10pXG4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJkZXN0aW5hdGlvbiI6ICJiYWNrZW5kLzItY2FsbC1tZXRob2QubWQiLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50IjogIiMgSW50ZXJhY3Rpbmcgd2l0aCBNaW5hIFByb3RvY29sIFVzaW5nIEVhc3lNaW5hXG5cblRoaXMgc2NyaXB0IGRlbW9uc3RyYXRlcyBob3cgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgTWluYSBQcm90b2NvbCBibG9ja2NoYWluIHVzaW5nIHRoZSBgbzFqc2AgbGlicmFyeSBhbmQgdGhlIGBFYXN5TWluYWAgbW9kdWxlLiBJdCBwZXJmb3JtcyB2YXJpb3VzIHRhc2tzLCBpbmNsdWRpbmcgbmV0d29yayBjb25maWd1cmF0aW9uLCBpbXBvcnRpbmcgYW4gYWNjb3VudCwgd29ya2luZyB3aXRoIGEgZGVwbG95ZWQgc21hcnQgY29udHJhY3QsIGFuZCBleGVjdXRpbmcgdHJhbnNhY3Rpb25zLiBIZXJlJ3MgYSBicmVha2Rvd24gb2YgdGhlIHNjcmlwdCdzIGtleSBzdGVwczpcblxuIyMgSW1wb3J0aW5nIE5lY2Vzc2FyeSBNb2R1bGVzXG5cbmBgYGphdmFzY3JpcHRcbmltcG9ydCB7IE1pbmEsIEZpZWxkIH0gZnJvbSAnbzFqcydcbmltcG9ydCB7IEVhc3lNaW5hIH0gZnJvbSAnZWFzeW1pbmEnXG5gYGBcblxuSW4gdGhpcyBzZWN0aW9uLCB0aGUgc2NyaXB0IGltcG9ydHMgcmVxdWlyZWQgbW9kdWxlcyBhbmQgbGlicmFyaWVzLCBpbmNsdWRpbmcgYE1pbmFgIGFuZCBgRmllbGRgIGZyb20gYG8xanNgLCBhcyB3ZWxsIGFzIHRoZSBjdXN0b20gYEVhc3lNaW5hYCBtb2R1bGUuXG5cbiMjIFNldHRpbmcgVXAgdGhlIE1pbmEgTmV0d29ya1xuXG5gYGBqYXZhc2NyaXB0XG5jb25zb2xlLmxvZygn8J+MkCBBZGRpbmcgTmV0d29yay4uLicpXG5jb25zdCBCZXJrZWxleSA9IE1pbmEuTmV0d29yayggXG4gICAgJ2h0dHBzOi8vcHJveHkuYmVya2VsZXkubWluYWV4cGxvcmVyLmNvbS9ncmFwaHFsJyBcbiAgICAvLyAnaHR0cHM6Ly9hcGkubWluYXNjYW4uaW8vbm9kZS9iZXJrZWxleS92MS9ncmFwaHFsJ1xuKVxuTWluYS5zZXRBY3RpdmVJbnN0YW5jZShCZXJrZWxleSlcbmBgYFxuXG5IZXJlLCB0aGUgc2NyaXB0IHNldHMgdXAgdGhlIE1pbmEgbmV0d29yayBieSBzcGVjaWZ5aW5nIHRoZSBHcmFwaFFMIGVuZHBvaW50LCBlbmFibGluZyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIEJlcmtlbGV5IG5ldHdvcmsgb2YgdGhlIE1pbmEgUHJvdG9jb2wuXG5cbiMjIEluaXRpYWxpemluZyBFYXN5TWluYVxuXG5gYGBqYXZhc2NyaXB0XG5jb25zb2xlLmxvZygn4pyoIEFkZGluZyBFYXN5TWluYS4uLicpXG5jb25zdCBlYXN5TWluYSA9IG5ldyBFYXN5TWluYSh7ICduZXR3b3JrTmFtZSc6ICdiZXJrZWxleScgfSlcbmBgYFxuXG5BbiBpbnN0YW5jZSBvZiBgRWFzeU1pbmFgIGlzIGNyZWF0ZWQsIHNpbXBsaWZ5aW5nIGludGVyYWN0aW9ucyB3aXRoIHRoZSBNaW5hIFByb3RvY29sLiBUaGUgbmV0d29yayBuYW1lIGlzIHNldCB0byAnYmVya2VsZXknIHRvIGluZGljYXRlIHRoZSB0YXJnZXQgbmV0d29yay5cblxuIyMgSW1wb3J0aW5nIGFuIEFjY291bnRcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/CflJEgSW1wb3J0aW5nIEFjY291bnQuLi4nKVxuY29uc3QgZGVwbG95ZXIgPSBhd2FpdCBlYXN5TWluYS5nZXRBY2NvdW50KHtcbiAgICAnbmFtZSc6ICdib2InLFxuICAgICdncm91cE5hbWUnOiAnYScsXG4gICAgJ2NoZWNrU3RhdHVzJzogdHJ1ZSxcbiAgICAnc3RyaWN0JzogdHJ1ZVxufSlcbmNvbnNvbGUubG9nKCcgICBFeHBsb3JlcjonLCBkZXBsb3llclsnZXhwbG9yZXInXSlcbmBgYFxuXG5UaGlzIHNlY3Rpb24gaW1wb3J0cyBhbiBhY2NvdW50IG5hbWVkICdib2InIGZyb20gdGhlICdhJyBncm91cCB1c2luZyB0aGUgYGdldEFjY291bnRgIG1ldGhvZC4gSXQgY2hlY2tzIHRoZSBhY2NvdW50J3Mgc3RhdHVzIGFuZCBsb2dzIHRoZSBhY2NvdW50J3MgJ2V4cGxvcmVyJyBwcm9wZXJ0eS5cblxuIyMgSW1wb3J0aW5nIGEgRGVwbG95ZWQgQ29udHJhY3RcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/Cfk50gQWRkaW5nIENvbnRyYWN0Li4uJylcbmNvbnN0IGNvbnRyYWN0ID0gYXdhaXQgZWFzeU1pbmEuZ2V0RGVwbG95ZWRDb250cmFjdCh7XG4gICAgJ25hbWUnOiAnc3F1YXJlJyxcbiAgICAncHJvamVjdE5hbWUnOiAnZ2V0dGluZy1zdGFydGVkJ1xufSlcbmNvbnNvbGUubG9nKCcgICBFeHBsb3JlcjonLCBjb250cmFjdFsnZXhwbG9yZXInXSlcbmBgYFxuXG5UaGUgc2NyaXB0IGltcG9ydHMgYSBkZXBsb3llZCBzbWFydCBjb250cmFjdCBuYW1lZCAnc3F1YXJlJyB3aXRoIHRoZSBwcm9qZWN0IG5hbWUgJ2dldHRpbmctc3RhcnRlZCcgdXNpbmcgdGhlIGBnZXREZXBsb3llZENvbnRyYWN0YCBtZXRob2QuIEl0IGxvZ3MgdGhlIGNvbnRyYWN0J3MgJ2V4cGxvcmVyJyBwcm9wZXJ0eS5cblxuIyMgTG9hZGluZyBTbWFydCBDb250cmFjdCBDb2RlXG5cbmBgYGphdmFzY3JpcHRcbmNvbnNvbGUubG9nKCfwn5OEIExvYWRpbmcgU21hcnQgQ29udHJhY3QgQ29kZS4uLicpXG5jb25zdCB7IHNvdXJjZUNvZGUgfSA9IGNvbnRyYWN0XG5jb25zdCB7IFNxdWFyZSB9ID0gYXdhaXQgZWFzeU1pbmEubG9hZE1vZHVsZUV4cGVyaW1lbnRhbCh7IHNvdXJjZUNvZGUgfSlcbmBgYFxuXG5UaGlzIHBhcnQgbG9hZHMgdGhlIHNvdXJjZSBjb2RlIG9mIHRoZSBzbWFydCBjb250cmFjdCBhbmQgZXh0cmFjdHMgdGhlIGBTcXVhcmVgIGNsYXNzIHVzaW5nIGBsb2FkTW9kdWxlRXhwZXJpbWVudGFsYC4gSXQgcHJlcGFyZXMgdGhlIGNvbnRyYWN0IGNvZGUgZm9yIGZ1cnRoZXIgdXNlLlxuXG4jIyBDb21waWxpbmcgYW5kIFByZXBhcmluZyBUcmFuc2FjdGlvbnNcblxuYGBgamF2YXNjcmlwdFxuY29uc29sZS5sb2coJ/CfmoAgQ29tcGlsaW5nLi4uJylcbmNvbnN0IHprQXBwSW5zdGFuY2UgPSBuZXcgU3F1YXJlKGNvbnRyYWN0WydwdWJsaWNLZXknXVsnZmllbGQnXSlcblxuY29uc29sZS5sb2coJ/Cfp6ogQ29tcGlsaW5nIChhd2FpdGVkKS4uLicpXG5hd2FpdCBTcXVhcmUuY29tcGlsZSgpXG5cbmNvbnNvbGUubG9nKCfwn5OcIFByZXBhcmUgVHJhbnNhY3Rpb25zLi4uJylcbmNvbnN0IHR4ID0gYXdhaXQgTWluYS50cmFuc2FjdGlvbihcbiAgICB7XG4gICAgICAgICdmZWVQYXllcktleSc6IGRlcGxveWVyWydwcml2YXRlS2V5J11bJ2ZpZWxkJ10sXG4gICAgICAgICdmZWUnOiAxMDBfMDAwXzAwMCxcbiAgICAgICAgJ21lbW8nOiAnYWJjJ1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgICB6a0FwcEluc3RhbmNlLnVwZGF0ZSggRmllbGQoIDkgKSApIFxuICAgIH1cbilcbmBgYFxuXG5JbiB0aGlzIHNlY3Rpb24sIHRoZSBzY3JpcHQgY3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgYFNxdWFyZWAgY2xhc3MsIGF3YWl0cyB0aGUgY29tcGlsYXRpb24gb2YgdGhlIGNvbnRyYWN0LCBhbmQgcHJlcGFyZXMgYSB0cmFuc2FjdGlvbi4gVGhlIHRyYW5zYWN0aW9uIGluY2x1ZGVzIGRldGFpbHMgc3VjaCBhcyB0aGUgZmVlIHBheWVyLCBmZWUgYW1vdW50LCBtZW1vLCBhbmQgcGVyZm9ybXMgYW4gdXBkYXRlIG9wZXJhdGlvbiBvbiB0aGUgc21hcnQgY29udHJhY3QuIE5vdGUgdGhhdCB3aXRoIGVhY2ggZXhlY3V0aW9uLCB0aGUgbnVtYmVyIGluIHRoZSBgRmllbGRgIGNsYXNzIG5lZWRzIHRvIGJlIGFkanVzdGVkLCBmb3IgZXhhbXBsZSwgOSwgODEsIDY1NjEsIDQzMDQ2NzIxLi4uXG5cbiMjIFByb3ZpbmcsIFNpZ25pbmcsIGFuZCBTZW5kaW5nIFRyYW5zYWN0aW9uc1xuXG5gYGBqYXZhc2NyaXB0XG5jb25zb2xlLmxvZygn8J+UjSBQcm92aW5nIFRyYW5zYWN0aW9uLi4uJylcbmF3YWl0IHR4LnByb3ZlKClcblxuY29uc29sZS5sb2coJ+Kcje+4jyBTaWduaW5nIFRyYW5zYWN0aW9uLi4uJylcbmNvbnN0IHNpZ25lZE1lc3NhZ2UgPSB0eC5zaWduKFtkZXBsb3llclsncHJpdmF0ZUtleSddWydmaWVsZCddXSlcblxuY29uc29sZS5sb2coJ/CfmpogU2VuZGluZyBUcmFuc2FjdGlvbi4uLicpXG5jb25zdCByZXNwb25zZSA9IGF3YWl0IHNpZ25lZE1lc3NhZ2Uuc2VuZCgpXG5jb25zb2xlLmxvZyhgICAgRXhwbG9yZXIgVVJMOiBodHRwczovL21pbmFzY2FuLmlvL2JlcmtlbGV5L3R4LyR7cmVzcG9uc2UuaGFzaCgpfWApXG5gYGBcblxuVGhlIHNjcmlwdCBwcm92ZXMgdGhlIHRyYW5zYWN0aW9uLCBzaWducyBpdCB1c2luZyB0aGUgZGVwbG95ZXIncyBwcml2YXRlIGtleSwgYW5kIHNlbmRzIHRoZSB0cmFuc2FjdGlvbi4gSXQgYWxzbyBsb2dzIHRoZSBleHBsb3JlciBVUkwgb2YgdGhlIHRyYW5zYWN0aW9uIGZvciByZWZlcmVuY2UuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiZGVzdGluYXRpb24iOiAiYmFja2VuZC8yLWNhbGwtbWV0aG9kLm1qcyIsCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiOiAiaW1wb3J0ICogYXMgbzFqcyBmcm9tICdvMWpzJ1xuY29uc3QgeyBNaW5hLCBGaWVsZCB9ID0gbzFqc1xuaW1wb3J0IHsgRWFzeU1pbmEgfSBmcm9tICdlYXN5bWluYSdcblxuY29uc29sZS5sb2coJ/CfjJAgQWRkaW5nIE5ldHdvcmsuLi4nKVxuY29uc3QgQmVya2VsZXkgPSBNaW5hLk5ldHdvcmsoIFxuICAgICdodHRwczovL3Byb3h5LmJlcmtlbGV5Lm1pbmFleHBsb3Jlci5jb20vZ3JhcGhxbCcgXG4gICAgLy8gJ2h0dHBzOi8vYXBpLm1pbmFzY2FuLmlvL25vZGUvYmVya2VsZXkvdjEvZ3JhcGhxbCdcbilcbk1pbmEuc2V0QWN0aXZlSW5zdGFuY2UoQmVya2VsZXkpXG4gXG5jb25zb2xlLmxvZygn4pyoIEFkZGluZyBFYXN5TWluYS4uLicpXG5jb25zdCBlYXN5TWluYSA9IG5ldyBFYXN5TWluYSh7ICduZXR3b3JrTmFtZSc6ICdiZXJrZWxleScsIG8xanMgfSlcblxuY29uc29sZS5sb2coJ/CflJEgSW1wb3J0aW5nIEFjY291bnQuLi4nKVxuY29uc3QgZGVwbG95ZXIgPSBhd2FpdCBlYXN5TWluYS5nZXRBY2NvdW50KHtcbiAgICAnbmFtZSc6ICdhbGljZScsXG4gICAgJ2dyb3VwTmFtZSc6ICdhJyxcbiAgICAnY2hlY2tTdGF0dXMnOiB0cnVlLFxuICAgICdzdHJpY3QnOiB0cnVlXG59KVxuY29uc29sZS5sb2coJyAgIEV4cGxvcmVyOicsIGRlcGxveWVyWydleHBsb3JlciddKVxuXG5jb25zb2xlLmxvZygn8J+TnSBBZGRpbmcgQ29udHJhY3QuLi4nKVxuY29uc3QgY29udHJhY3QgPSBhd2FpdCBlYXN5TWluYS5nZXREZXBsb3llZENvbnRyYWN0KHtcbiAgICAnbmFtZSc6ICdzcXVhcmUnLFxuICAgICdwcm9qZWN0TmFtZSc6ICdoZWxsby13b3JsZCcsXG4gICAgJ2NoZWNrU3RhdHVzJzogdHJ1ZSxcbiAgICAnc3RyaWN0JzogdHJ1ZVxufSlcbmNvbnNvbGUubG9nKCAnQycsICBjb250cmFjdClcbmNvbnNvbGUubG9nKCcgICBFeHBsb3JlcjonLCBjb250cmFjdFsnZXhwbG9yZXInXSlcblxuY29uc29sZS5sb2coJ/Cfk4QgTG9hZGluZyBTbWFydCBDb250cmFjdCBDb2RlLi4uJylcbmNvbnN0IHsgc291cmNlQ29kZSB9ID0gY29udHJhY3RcbmNvbnN0IHsgU3F1YXJlIH0gPSBhd2FpdCBlYXN5TWluYS5sb2FkTW9kdWxlRXhwZXJpbWVudGFsKHsgc291cmNlQ29kZSB9KVxuXG5jb25zb2xlLmxvZygn8J+agCBDb21waWxpbmcuLi4nKVxuY29uc3QgemtBcHBJbnN0YW5jZSA9IG5ldyBTcXVhcmUoY29udHJhY3RbJ3B1YmxpY0tleSddWydmaWVsZCddKVxuXG5jb25zb2xlLmxvZygn8J+nqiBDb21waWxpbmcgKGF3YWl0ZWQpLi4uJylcbmF3YWl0IFNxdWFyZS5jb21waWxlKClcblxuY29uc29sZS5sb2coJ/Cfk5wgUHJlcGFyZSBUcmFuc2FjdGlvbnMuLi4nKVxuY29uc3QgdHggPSBhd2FpdCBNaW5hLnRyYW5zYWN0aW9uKFxuICAgIHtcbiAgICAgICAgJ2ZlZVBheWVyS2V5JzogZGVwbG95ZXJbJ3ByaXZhdGVLZXknXVsnZmllbGQnXSxcbiAgICAgICAgJ2ZlZSc6IDEwMF8wMDBfMDAwLFxuICAgICAgICAnbWVtbyc6ICdhYmMnXG4gICAgfSxcbiAgICAoKSA9PiB7XG4gICAgICAgIHprQXBwSW5zdGFuY2UudXBkYXRlKCBGaWVsZCggOSApICkgXG4gICAgfVxuKVxuXG5jb25zb2xlLmxvZygn8J+UjSBQcm92aW5nIFRyYW5zYWN0aW9uLi4uJylcbmF3YWl0IHR4LnByb3ZlKClcblxuY29uc29sZS5sb2coJ+Kcje+4jyBTaWduaW5nIFRyYW5zYWN0aW9uLi4uJylcbmNvbnN0IHNpZ25lZE1lc3NhZ2UgPSB0eC5zaWduKFtkZXBsb3llclsncHJpdmF0ZUtleSddWydmaWVsZCddXSlcblxuY29uc29sZS5sb2coJ/CfmpogU2VuZGluZyBUcmFuc2FjdGlvbi4uLicpXG5jb25zdCByZXNwb25zZSA9IGF3YWl0IHNpZ25lZE1lc3NhZ2Uuc2VuZCgpXG5jb25zb2xlLmxvZyhgICAgRXhwbG9yZXIgVVJMOiBodHRwczovL21pbmFzY2FuLmlvL2JlcmtlbGV5L3R4LyR7cmVzcG9uc2UuaGFzaCgpfWApXG4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgICJjb250cmFjdHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImRlc3RpbmF0aW9uIjogImNvbnRyYWN0cy9TcXVhcmUudHMiLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50IjogImltcG9ydCB7XG4gICAgRmllbGQsXG4gICAgU21hcnRDb250cmFjdCxcbiAgICBzdGF0ZSxcbiAgICBTdGF0ZSxcbiAgICBtZXRob2QsXG4gIH0gZnJvbSAnbzFqcyc7XG5cblxuZXhwb3J0IGNsYXNzIFNxdWFyZSBleHRlbmRzIFNtYXJ0Q29udHJhY3Qge1xuICAgIEBzdGF0ZShGaWVsZCkgbnVtID0gU3RhdGU8RmllbGQ+KCk7XG5cblxuICAgIGluaXQoKSB7XG4gICAgICBzdXBlci5pbml0KCk7XG4gICAgICB0aGlzLm51bS5zZXQoRmllbGQoMykpO1xuICAgIH1cblxuXG4gICAgQG1ldGhvZCB1cGRhdGUoc3F1YXJlOiBGaWVsZCkge1xuICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5udW0uZ2V0KCk7XG4gICAgICB0aGlzLm51bS5hc3NlcnRFcXVhbHMoY3VycmVudFN0YXRlKTtcbiAgICAgIHNxdWFyZS5hc3NlcnRFcXVhbHMoY3VycmVudFN0YXRlLm11bChjdXJyZW50U3RhdGUpKTtcbiAgICAgIHRoaXMubnVtLnNldChzcXVhcmUpO1xuICAgIH1cbn0iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJkZXN0aW5hdGlvbiI6ICJjb250cmFjdHMvYnVpbGQvU3F1YXJlLmpzIiwKICAgICAgICAgICAgICAgICAgICAiY29udGVudCI6ICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59O1xuaW1wb3J0IHsgRmllbGQsIFNtYXJ0Q29udHJhY3QsIHN0YXRlLCBTdGF0ZSwgbWV0aG9kLCB9IGZyb20gJ28xanMnO1xuZXhwb3J0IGNsYXNzIFNxdWFyZSBleHRlbmRzIFNtYXJ0Q29udHJhY3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm51bSA9IFN0YXRlKCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcbiAgICAgICAgdGhpcy5udW0uc2V0KEZpZWxkKDMpKTtcbiAgICB9XG4gICAgdXBkYXRlKHNxdWFyZSkge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLm51bS5nZXQoKTtcbiAgICAgICAgdGhpcy5udW0uYXNzZXJ0RXF1YWxzKGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIHNxdWFyZS5hc3NlcnRFcXVhbHMoY3VycmVudFN0YXRlLm11bChjdXJyZW50U3RhdGUpKTtcbiAgICAgICAgdGhpcy5udW0uc2V0KHNxdWFyZSk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgc3RhdGUoRmllbGQpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG5dLCBTcXVhcmUucHJvdG90eXBlLCBcIm51bVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgbWV0aG9kLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtGaWVsZF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBTcXVhcmUucHJvdG90eXBlLCBcInVwZGF0ZVwiLCBudWxsKTtcbiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgImZyb250ZW5kIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJkZXN0aW5hdGlvbiI6ICJmcm9udGVuZC9zZW5kLmh0bWwiLAogICAgICAgICAgICAgICAgICAgICJjb250ZW50IjogIjwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICAgIDxzdHlsZT5cbiAgICAgICAgLnByb2Nlc3MtY29udGFpbmVyIHtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgLyogU3BlY2lmeSBhIG5vbi1zZXJpZiBmb250ICovXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyAvKiBBbGlnbiBzdGVwcyB0byB0aGUgbGVmdCAqL1xuICAgICAgICB9XG4gICAgICAgIC5zdGVwIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgd2lkdGg6IDQwMHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIGNvbG9yOiAjNzc3OyAvKiBVc2UgYSBkaWZmZXJlbnQgc2hhZGUgb2YgZ3JheSAoIzc3NykgKi9cbiAgICAgICAgfVxuICAgICAgICAuYWN0aXZlLXN0ZXAge1xuICAgICAgICAgICAgY29sb3I6IGJsYWNrOyAvKiBUZXh0IGNvbG9yIGZvciBhY3RpdmUgc3RlcHMgKi9cbiAgICAgICAgfVxuICAgICAgICAuZG9uZS1zdGVwIHtcbiAgICAgICAgICAgIGNvbG9yOiAjNzc3OyAvKiBVc2UgdGhlIHNhbWUgZ3JheSAoIzc3NykgZm9yIGRvbmUgc3RlcHMgKi9cbiAgICAgICAgfVxuICAgICAgICAuZXJyb3Itc3RlcCB7XG4gICAgICAgICAgICBjb2xvcjogcmVkOyAvKiBUZXh0IGNvbG9yIGZvciBlcnJvciBzdGVwcyAqL1xuICAgICAgICB9XG4gICAgICAgIC5zdGVwLWNpcmNsZSB7XG4gICAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7IC8qIERlZmF1bHQgY2lyY2xlIGNvbG9yICovXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7IC8qIE1ha2UgaXQgY2lyY3VsYXIgKi9cbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsgLyogU3BhY2UgYmV0d2VlbiBjaXJjbGUgYW5kIHN0ZXAgdGV4dCAqL1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyAvKiBDZW50ZXIgdGhlIGNvbnRlbnQgKHN0YXR1cykgaW4gdGhlIGNpcmNsZSAqL1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuZG9uZS1zdGVwIC5zdGVwLWNpcmNsZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAvKiBHcmVlbiBjb2xvciBmb3IgZG9uZSBzdGVwcyAqL1xuICAgICAgICB9XG4gICAgICAgIC5zdGVwLWNvbnRlbnQge1xuICAgICAgICAgICAgZmxleC1ncm93OiAxOyAvKiBFeHBhbmQgdG8gZmlsbCBhdmFpbGFibGUgc3BhY2UgKi9cbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7IC8qIEFkZCByaWdodCBwYWRkaW5nIGJldHdlZW4gY29udGVudCBhbmQgYnV0dG9uICovXG4gICAgICAgIH1cbiAgICAgICAgLnN0ZXAtdGl0bGUge1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLnN0ZXAtZGVzY3JpcHRpb24ge1xuICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICB9XG4gICAgICAgIC5zdGVwLW1lc3NhZ2Uge1xuICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICB9XG4gICAgICAgIC5zdGVwLWRyb3Bkb3duIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAuc3RlcC1idXR0b24ge1xuICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOyAvKiBEZWZhdWx0IGJ1dHRvbiBjb2xvciBmb3IgaW5hY3RpdmUgc3RlcHMgKi9cbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsgLyogU2V0IHRleHQgY29sb3IgdG8gd2hpdGUgZm9yIGluYWN0aXZlIGJ1dHRvbnMgKi9cbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7IC8qIENoYW5nZSBjdXJzb3IgZm9yIGluYWN0aXZlIGJ1dHRvbnMgKi9cbiAgICAgICAgfVxuICAgICAgICAuYWN0aXZlLXN0ZXAgLnN0ZXAtYnV0dG9uIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdCRkY7IC8qIEFjdGl2ZSBzdGVwIGJ1dHRvbiBjb2xvciAqL1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOyAvKiBDaGFuZ2UgY3Vyc29yIGZvciBhY3RpdmUgYnV0dG9ucyAqL1xuICAgICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8c2NyaXB0IHNyYz1cIi4vc3JjL1VJLmpzXCI+PC9zY3JpcHQ+XG4gICAgPHNjcmlwdCBzcmM9XCIuL3NyYy9TdGVwLmpzXCI+PC9zY3JpcHQ+XG48L2hlYWQ+XG48Ym9keT5cbiAgICA8ZGl2IGNsYXNzPVwicHJvY2Vzcy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBpZD1cImF1cm9cIiBjbGFzcz1cInN0ZXAgZG9uZS1zdGVwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1jaXJjbGUgZG9uZS1zdGVwXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtdGl0bGVcIj5Db25uZWN0IEF1cm8gV2FsbGV0PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtZGVzY3JpcHRpb25cIj5DaG9vc2UgTmV0d29yazwvZGl2PlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJzdGVwLWRyb3Bkb3duXCIgb25jaGFuZ2U9XCJoYW5kbGVEcm9wZG93bkNoYW5nZSh0aGlzKVwiIGRpc2FibGVkPjwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLW1lc3NhZ2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1tZXNzYWdlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdGVwLWJ1dHRvblwiICBvbmNsaWNrPVwiaGFuZGxlQnV0dG9uQ2xpY2soJ2F1cm8nKVwiIGRpc2FibGVkPkNvbm5lY3Q8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJvMWpzXCIgY2xhc3M9XCJzdGVwIGFjdGl2ZS1zdGVwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1jaXJjbGVcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC10aXRsZVwiPkltcG9ydCBvMWpzPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtZGVzY3JpcHRpb25cIj5DaG9vc2UgbG9jYXRpb248L2Rpdj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwic3RlcC1kcm9wZG93blwiIG9uY2hhbmdlPVwiaGFuZGxlRHJvcGRvd25DaGFuZ2UodGhpcylcIj48L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1tZXNzYWdlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtbWVzc2FnZVwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic3RlcC1idXR0b25cIiBvbmNsaWNrPVwiaGFuZGxlQnV0dG9uQ2xpY2soJ28xanMnKVwiPkltcG9ydDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cInNtYXJ0Q29udHJhY3RcIiBjbGFzcz1cInN0ZXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLWNpcmNsZVwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLXRpdGxlXCI+SW1wb3J0IFNtYXJ0IENvbnRyYWN0PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtZGVzY3JpcHRpb25cIj5DaG9vc2UgUHJvamVjdDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJzdGVwLWRyb3Bkb3duXCIgb25jaGFuZ2U9XCJoYW5kbGVEcm9wZG93bkNoYW5nZSh0aGlzKVwiIGRpc2FibGVkPjwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLW1lc3NhZ2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RlcC1tZXNzYWdlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdGVwLWJ1dHRvblwiIG9uY2xpY2s9XCJoYW5kbGVCdXR0b25DbGljaygnc21hcnRDb250cmFjdCcpXCIgZGlzYWJsZWQ+SW1wb3J0PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPHNjcmlwdD5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQnV0dG9uQ2xpY2soIGtleSApIHtcbiAgICAgICAgICAgIGlmKCB0eXBlb2Ygc3RlcCAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgICAgICAgc3RlcC5idXR0b25QcmVzc2VkKCB7IGtleSB9IClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGEgPT4gYSApXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCggZSA9PiBjb25zb2xlLmxvZyggZSApIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsbCAzIHZhcmlhYmxlcyBhcmUgZ2xvYmFsIGFuZCBhdmFpbGFibGUgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgIHZhciBlYXN5bWluYVxuICAgICAgICB2YXIgbzFqc1xuICAgICAgICB2YXIgc21hcnRDb250cmFjdFxuXG4gICAgICAgIHZhciBzdGVwID0gbmV3IFN0ZXAoKVxuICAgICAgICBhc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICAgICAgICAgICAgYXdhaXQgc3RlcC5pbml0KClcbiAgICAgICAgfVxuXG4gICAgICAgIG1haW4oKVxuICAgICAgICAgICAgLnRoZW4oIGEgPT4gY29uc29sZS5sb2coIGEgKSApXG4gICAgICAgICAgICAuY2F0Y2goIGUgPT4gY29uc29sZS5sb2coIGUgKSApXG4gICAgPC9zY3JpcHQ+XG48L2JvZHk+XG48L2h0bWw+XG4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJkZXN0aW5hdGlvbiI6ICJmcm9udGVuZC9zcmMvU3RlcC5qcyIsCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiOiAiY29uc3QgdWkgPSBuZXcgVUkoKVxuXG5cbmNvbnN0IFN0ZXAgPSBjbGFzcyBTdGVwIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAgICNjb25maWdcbiAgICAjc3RhdGVcblxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy4jY29uZmlnID0ge1xuICAgICAgICAgICAgJ2F1cm8nOiB7XG4gICAgICAgICAgICAgICAgJ3ZhbGlkTmV0d29ya3MnOiBbICdkZXZuZXQnLCAnYmVya2VsZXknLCAndGVzdHdvcmxkMicsICdtYWlubmV0JyBdLFxuICAgICAgICAgICAgICAgICdvcHRpb25zJzogW1xuICAgICAgICAgICAgICAgICAgICB7ICd0ZXh0JzogJ0JlcmtlbGV5JywgJ3ZhbHVlJzogJ2JlcmtlbGV5JyB9LFxuLypcbiAgICAgICAgICAgICAgICAgICAgeyAndGV4dCc6ICdUZXN0d29ybGQgMicsICd2YWx1ZSc6ICd0ZXN0d29ybGQyJyB9LFxuICAgICAgICAgICAgICAgICAgICB7ICd0ZXh0JzogJ01haW5uZXQnLCAndmFsdWUnOiAnbWFpbm5ldCcgfSxcbiAgICAgICAgICAgICAgICAgICAgeyAndGV4dCc6ICdEZXYgTmV0JywgJ3ZhbHVlJzogJ2Rldm5ldCcgfVxuKi9cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ28xanMnOiB7XG4gICAgICAgICAgICAgICAgJ29wdGlvbnMnOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgJ3RleHQnOiAnTG9jYWwnLCAndmFsdWUnOiAnL2FwaS9nZXRMb2NhbE8xanMnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgJ3RleHQnOiAnQ0ROJywgJ3ZhbHVlJzogJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbzFqcycgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc21hcnRDb250cmFjdCc6IHtcbiAgICAgICAgICAgICAgICAnb3B0aW9ucyc6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgJ2F1cm8nOiB7XG4gICAgICAgICAgICAgICAgJ2V4aXN0cyc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICdhY2NvdW50JzogbnVsbCxcbiAgICAgICAgICAgICAgICAnbmV0d29yayc6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnbzFqcyc6IHtcbiAgICAgICAgICAgICAgICAndXJsJzogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzbWFydENvbnRyYWN0Jzoge1xuICAgICAgICAgICAgICAgICd1cmwnOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dldENvbnRyYWN0cycpXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgICB0aGlzLiNjb25maWdbJ3NtYXJ0Q29udHJhY3QnXVsnb3B0aW9ucyddID0gZGF0YVsnZGF0YSddXG4gICAgICAgICAgICAubWFwKCBjb250cmFjdE5hbWUgPT4geyBcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgPSB7IFxuICAgICAgICAgICAgICAgICAgICAndGV4dCc6IGNvbnRyYWN0TmFtZSwgXG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IGAvYXBpL2dldENvbnRyYWN0U291cmNlQ29kZS8ke2NvbnRyYWN0TmFtZX0uanNgIFxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cnVjdFxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy4jYWRkU2VsZWN0T3B0aW9ucygpXG4gICAgICAgIHVpLmNoYW5nZVN0YXR1c1Jvd3MoIHsgJ3N0YXRlJzogJ3dhaXRpbmcnIH0gKVxuICAgICAgICB1aS5jaGFuZ2VTdGF0dXNSb3coIHsgJ3N0YXRlJzogJ2FjdGl2ZScsICdrZXknOiAnYXVybycgfSApXG5cblxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG5cbiAgICBhc3luYyBidXR0b25QcmVzc2VkKCB7IGtleSB9ICkge1xuICAgICAgICBzd2l0Y2goIGtleSApIHtcbiAgICAgICAgICAgIGNhc2UgJ2F1cm8nOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3NldEF1cm8oKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdvMWpzJzpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNzZXRJbXBvcnQoKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdzbWFydENvbnRyYWN0JzogXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jc2V0U21hcnRDb250cmFjdCgpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBpbGUnOlxuICAgICAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuI2NvbXBpbGVTbWFydENvbnRyYWN0KClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggYEJ1dHRvbiB3aXRoIHRoZSBrZXkgJyR7a2V5fScgbm90IGtub3duLmAgKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiN1cGRhdGVHbG9iYWxWYXJpYWJsZSgpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG5cbiAgICAjY29tcGlsZVNtYXJ0Q29udHJhY3QoKSB7XG4gICAgICAgIGNvbnN0IHsgU3F1YXJlIH0gPSBzbWFydENvbnRyYWN0XG4gICAgfVxuXG5cbiAgICAjYWRkU2VsZWN0T3B0aW9ucygpIHtcbiAgICAgICAgdWkuc2V0U2VsZWN0T3B0aW9ucyggeyBcbiAgICAgICAgICAgICdrZXknOiAnYXVybycsIFxuICAgICAgICAgICAgJ29wdGlvbnMnOiB0aGlzLiNjb25maWdbJ2F1cm8nXVsnb3B0aW9ucyddIFxuICAgICAgICB9IClcblxuICAgICAgICB1aS5zZXRTZWxlY3RPcHRpb25zKCB7IFxuICAgICAgICAgICAgJ2tleSc6ICdvMWpzJywgXG4gICAgICAgICAgICAnb3B0aW9ucyc6IHRoaXMuI2NvbmZpZ1snbzFqcyddWydvcHRpb25zJ11cbiAgICAgICAgfSApXG5cbiAgICAgICAgdWkuc2V0U2VsZWN0T3B0aW9ucyggeyBcbiAgICAgICAgICAgICdrZXknOiAnc21hcnRDb250cmFjdCcsIFxuICAgICAgICAgICAgJ29wdGlvbnMnOiB0aGlzLiNjb25maWdbJ3NtYXJ0Q29udHJhY3QnXVsnb3B0aW9ucyddXG4gICAgICAgIH0gKVxuICAgIH1cblxuXG4gICAgYXN5bmMgI3NldEF1cm8oKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLiN2YWxpZGF0ZVNldEF1cm8oKVxuICAgICAgICBjb25zdCBbIG1lc3NhZ2VzLCBjb21tZW50cywgYWNjb3VudHMsIG5ldHdvcmsgXSA9IHZhbGlkYXRpb25cbiAgICAgICAgdGhpcy4jcHJpbnRNZXNzYWdlcyggeyBtZXNzYWdlcywgY29tbWVudHMgfSApXG4gICAgICAgIHRoaXMuI3N0YXRlWydhdXJvJ11bJ2V4aXN0cyddID0gbWVzc2FnZXMubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgIGlmKCAhdGhpcy4jc3RhdGVbJ2F1cm8nXVsnZXhpc3RzJ10gKSB7IFxuICAgICAgICAgICAgY29uc3Qgcm93cyA9IFsgbWVzc2FnZXMuam9pbignLCAnICksICcnIF1cbiAgICAgICAgICAgIHVpLnNldFJlc3BvbnNlVGV4dCggeyAna2V5JzogJ2F1cm8nLCByb3dzIH0gKVxuICAgICAgICAgICAgcmV0dXJuIHRydWUgXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNzdGF0ZVsnYXVybyddWydhY2NvdW50J10gPSBhY2NvdW50c1sgMCBdXG5cbiAgICAgICAgY29uc3QgdGFyZ2V0Q2hhaW4gPSB1aS5nZXRTZWxlY3RPcHRpb24oIHsgJ2tleSc6ICdhdXJvJyB9IClcbiAgICAgICAgaWYoIG5ldHdvcmtbJ2NoYWluSWQnXSAhPT0gdGFyZ2V0Q2hhaW4gKSB7XG4gICAgICAgICAgICBhd2FpdCBtaW5hLnN3aXRjaENoYWluKCB7ICdjaGFpbklkJzogdGFyZ2V0Q2hhaW4gfSApXG4gICAgICAgICAgICBjb25zdCBuZXdOZXR3b3JrID0gYXdhaXQgbWluYS5yZXF1ZXN0TmV0d29yaygpXG4gICAgICAgICAgICB0aGlzLiNzdGF0ZVsnYXVybyddWyduZXR3b3JrJ10gPSBuZXdOZXR3b3JrWydjaGFpbklkJ11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlWydhdXJvJ11bJ25ldHdvcmsnXSA9IG5ldHdvcmtbJ2NoYWluSWQnXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBBY2NvdW50OiAke3RoaXMuI3N0YXRlWydhdXJvJ11bJ2FjY291bnQnXX0sIE5ldHdvcms6ICR7dGhpcy4jc3RhdGVbJ2F1cm8nXVsnbmV0d29yayddfS5gXG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBgJHt0aGlzLiNzdGF0ZVsnYXVybyddWydhY2NvdW50J10uc3Vic3RyaW5nKDAsIDgpfS4uLiR7dGhpcy4jc3RhdGVbJ2F1cm8nXVsnYWNjb3VudCddLnN1YnN0cmluZyggNTEsIDU1ICl9YFxuICAgICAgICB1aS5zZXRSZXNwb25zZVRleHQoIHtcbiAgICAgICAgICAgICdrZXknOiAnYXVybycsXG4gICAgICAgICAgICAncm93cyc6IFsgYEFjY291bnQ6ICR7YWRkcmVzc31gLCBgTmV0d29yazogJHt0aGlzLiNzdGF0ZVsnYXVybyddWyduZXR3b3JrJ119YF1cbiAgICAgICAgfSApXG4gICAgICAgIHVpLm5leHRTdGVwKClcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuXG4gICAgYXN5bmMgI3ZhbGlkYXRlU2V0QXVybygpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXVxuICAgICAgICBjb25zdCBjb21tZW50cyA9IFtdXG4gICAgICAgIGxldCBhY2NvdW50c1xuICAgICAgICBsZXQgbmV0d29ya1xuXG4gICAgICAgIGlmKCB0eXBlb2YgbWluYSA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKCBgQXVybyBXYWxsZXQgaXMgbm90IGF2YWlsYWJsZS5gIClcbiAgICAgICAgfVxuXG4gICAgICAgaWYoIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudHMgPSBhd2FpdCBtaW5hLnJlcXVlc3RBY2NvdW50cygpXG4gICAgICAgICAgICB9IGNhdGNoKCBlICkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goIGBBdXJvIC5yZXF1ZXN0QWNjb3VudHMoKSBmYWlsZWQuICR7ZX1gIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXR3b3JrID0gYXdhaXQgbWluYS5yZXF1ZXN0TmV0d29yaygpXG4gICAgICAgICAgICB9IGNhdGNoKCBlICkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goIGBBdXJvIC5yZXF1ZXN0TmV0d29yaygpIGZhaWxlZC4gJHtlfWAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggIUFycmF5LmlzQXJyYXkoIGFjY291bnRzICkgKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaCggYEFjY291bnQgaXMgbm90IGFycmF5LmAgKVxuICAgICAgICAgICAgfSBlbHNlIGlmKCBhY2NvdW50cy5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaCggYE5vdCBhY2NvdW50IGNvbm5lY3RlZC5gICkgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1lbnRzLnB1c2goIGAke2FjY291bnRzLmxlbmd0aH0gQWNjb3VudCR7YWNjb3VudHMubGVuZ3RoID09PSAwID8gJycgOiAncycgfSBjb25uZWN0ZWQgKCR7YWNjb3VudHMuam9pbiggJywgJyApfSkuYClcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiggdHlwZW9mIG5ldHdvcmsgIT09ICdvYmplY3QnICkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goIGBOZXR3b3JrIGlzIG5vdCBvYmplY3QuYCApXG4gICAgICAgICAgICB9IGVsc2UgaWYoICFuZXR3b3JrLmhhc093blByb3BlcnR5KCAnY2hhaW5JZCcgKSApIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKCBgTmV0d29yayBoYXMgbm90IHRoZSBrZXkgJ2NoYWluSWQnLmAgKSBcbiAgICAgICAgICAgIH0gZWxzZSBpZiggIXRoaXMuI2NvbmZpZ1snYXVybyddWyd2YWxpZE5ldHdvcmtzJ10uaW5jbHVkZXMoIG5ldHdvcmtbJ2NoYWluSWQnXSApICkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goIGBOZXR3b3JrIHdpdGggdGhlIHZhbHVlICcke25ldHdvcmt9JyBpcyBub3QgdmFsaWQuYCApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1lbnRzLnB1c2goIGBOZXR3b3JrIGlzIHNldCB0byAke25ldHdvcmtbJ2NoYWluSWQnXX0uYCApXG4gICAgICAgICAgICB9XG4gICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIG1lc3NhZ2VzLCBjb21tZW50cywgYWNjb3VudHMsIG5ldHdvcmsgXVxuICAgIH1cblxuXG4gICAgYXN5bmMgI3NldEltcG9ydCgpIHtcbiAgICAgICAgY29uc3QgdXJsID0gdWkuZ2V0U2VsZWN0T3B0aW9uKCB7ICdrZXknOiAnbzFqcycgfSApXG4gICAgICAgIG8xanMgPSBhd2FpdCBpbXBvcnQoIHVybCApXG5cbiAgICAgICAgdGhpcy4jc3RhdGVbJ28xanMnXVsndXJsJ10gPSB1cmxcblxuICAgICAgICB1aS5zZXRSZXNwb25zZVRleHQoIHtcbiAgICAgICAgICAgICdrZXknOiAnbzFqcycsXG4gICAgICAgICAgICAncm93cyc6IFsgYFN1Y2Nlc2Z1bCBsb2FkZWQuYCBdXG4gICAgICAgIH0gKVxuICAgICAgICB1aS5uZXh0U3RlcCgpXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cblxuICAgIGFzeW5jICNzZXRTbWFydENvbnRyYWN0KCkge1xuICAgICAgICBjb25zdCB1cmwgPSB1aS5nZXRTZWxlY3RPcHRpb24oIHsgJ2tleSc6ICdzbWFydENvbnRyYWN0JyB9IClcbiAgICAgICAgc21hcnRDb250cmFjdCA9IGF3YWl0IGltcG9ydCggdXJsIClcblxuICAgICAgICB1aS5zZXRSZXNwb25zZVRleHQoIHtcbiAgICAgICAgICAgICdrZXknOiAnc21hcnRDb250cmFjdCcsXG4gICAgICAgICAgICAncm93cyc6IFsgYFN1Y2Nlc2Z1bCBsb2FkZWQuYCBdXG4gICAgICAgIH0gKVxuXG4gICAgICAgIC8vIHVpLm5leHRTdGVwKClcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuXG4gICAgI3VwZGF0ZUdsb2JhbFZhcmlhYmxlKCkge1xuICAgICAgICBlYXN5bWluYSA9IE9iamVjdFxuICAgICAgICAgICAgLmVudHJpZXMoIHRoaXMuI3N0YXRlIClcbiAgICAgICAgICAgIC5yZWR1Y2UoICggYWNjLCBhLCBpbmRleCApID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbIGtleSwgdmFsdWUgXSA9IGFcbiAgICAgICAgICAgICAgICAhT2JqZWN0Lmhhc093biggYWNjLCBrZXkgKSA/IGFjY1sga2V5IF0gPSB7fSA6ICcnXG4gICAgICAgICAgICAgICAgT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIC5lbnRyaWVzKCB2YWx1ZSApXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKCBiID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFsgaywgdiBdID0gYlxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjWyBrZXkgXVsgayBdID0gdlxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgICAgICB9LCB7fSApXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cblxuICAgICNwcmludE1lc3NhZ2VzKCB7IG1lc3NhZ2VzPVtdLCBjb21tZW50cz1bXSB9ICkge1xuICAgICAgICBjb25zdCBuID0gW1xuICAgICAgICAgICAgWyBjb21tZW50cywgJ0NvbW1lbnQnLCBmYWxzZSBdLFxuICAgICAgICAgICAgWyBtZXNzYWdlcywgJ0Vycm9yJywgdHJ1ZSBdXG4gICAgICAgIF1cbiAgICAgICAgICAgIC5mb3JFYWNoKCAoIGEsIGluZGV4ICkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFsgbXNncywgaGVhZGxpbmUsIHN0b3AgXSA9IGFcbiAgICAgICAgICAgICAgICBtc2dzXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKCAoIG1zZywgcmluZGV4LCBhbGwgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByaW5kZXggPT09IDAgPyBjb25zb2xlLmxvZyggYFxcbiR7aGVhZGxpbmV9JHthbGwubGVuZ3RoID4gMSA/ICdzJyA6ICcnfTpgICkgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGAgIC0gJHttc2d9YCApXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggKCBhbGwubGVuZ3RoIC0gMSApID09PSByaW5kZXggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHN0b3AgPT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfSApXG4gICAgXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImRlc3RpbmF0aW9uIjogImZyb250ZW5kL3NyYy9VSS5qcyIsCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQiOiAiY29uc3QgVUkgPSBjbGFzcyBVSSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgICAjY29uZmlnXG4gICAgI3N0YXRlXG5cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuI2NvbmZpZyA9IHtcbiAgICAgICAgICAgICdzdGF0ZXMnOiB7XG4gICAgICAgICAgICAgICAgJ2RvbmUnOiB7XG4gICAgICAgICAgICAgICAgICAgICdjbGFzc05hbWUnOiAnc3RlcCBkb25lLXN0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAnY2lyY2xlQ2xhc3NOYW1lJzogJ3N0ZXAtY2lyY2xlIGRvbmUtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgICdzZWxlY3REaXNhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbkRpc2FibGUnOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnYWN0aXZlJzoge1xuICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzogJ3N0ZXAgYWN0aXZlLXN0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAnY2lyY2xlQ2xhc3NOYW1lJzogJ3N0ZXAtY2lyY2xlIGRvbmUtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgICdzZWxlY3REaXNhYmxlJzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICdidXR0b25EaXNhYmxlJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd3YWl0aW5nJzoge1xuICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzogJ3N0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAnY2lyY2xlQ2xhc3NOYW1lJzogJ3N0ZXAtY2lyY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdERpc2FibGUnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAnYnV0dG9uRGlzYWJsZSc6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2RvbSc6IHtcbiAgICAgICAgICAgICAgICAnYXVybyc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdCc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdvMWpzJzoge1xuICAgICAgICAgICAgICAgICAgICAnc2VsZWN0JzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3NtYXJ0Q29udHJhY3QnOiB7XG4gICAgICAgICAgICAgICAgICAgICdzZWxlY3QnOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAnYWN0aXZlS2V5JzogbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBjaGFuZ2VTdGF0dXNSb3dzKCB7IHN0YXRlIH0gKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCAnZGlzYWJsZScpXG4gICAgICAgIE9iamVjdFxuICAgICAgICAgICAgLmtleXMoIHRoaXMuI2NvbmZpZ1snZG9tJ10gKVxuICAgICAgICAgICAgLmZvckVhY2goIGtleSA9PiB0aGlzLmNoYW5nZVN0YXR1c1JvdyggeyBrZXksIHN0YXRlIH0gKSApXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cblxuICAgIGNoYW5nZVN0YXR1c1JvdyggeyBrZXksIHN0YXRlIH0gKSB7XG4gICAgICAgIGlmKCBzdGF0ZSA9PT0gJ2FjdGl2ZScgKSB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZVsnYWN0aXZlS2V5J10gPSBrZXlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGtleSApXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy4jY29uZmlnWydzdGF0ZXMnXVsgc3RhdGUgXVsnY2xhc3NOYW1lJ11cblxuICAgICAgICBpZiggdGhpcy4jY29uZmlnWydkb20nXVsga2V5IF1bJ3NlbGVjdCddICkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvciggYCMke2tleX0gc2VsZWN0LnN0ZXAtZHJvcGRvd25gIClcbiAgICAgICAgICAgIHNlbGVjdC5kaXNhYmxlZCA9IHRoaXMuI2NvbmZpZ1snc3RhdGVzJ11bIHN0YXRlIF1bJ3NlbGVjdERpc2FibGUnXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCBgIyR7a2V5fSBidXR0b24uc3RlcC1idXR0b25gIClcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gdGhpcy4jY29uZmlnWydzdGF0ZXMnXVsgc3RhdGUgXVsnYnV0dG9uRGlzYWJsZSddXG5cbiAgICAgICAgY29uc3QgY2lyY2xlID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgY2lyY2xlLmNsYXNzTmFtZSA9IHRoaXMuI2NvbmZpZ1snc3RhdGVzJ11bIHN0YXRlIF1bJ2NpcmNsZUNsYXNzTmFtZSddXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cblxuICAgIHNldFNlbGVjdE9wdGlvbnMoIHsga2V5LCBvcHRpb25zIH0gKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvciggYCMke2tleX0gc2VsZWN0LnN0ZXAtZHJvcGRvd25gIClcblxuICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAuZm9yRWFjaCggb3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdvcHRpb24nIClcbiAgICAgICAgICAgICAgICBlbC50ZXh0ID0gb3B0aW9uWyd0ZXh0J11cbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IG9wdGlvblsndmFsdWUnXVxuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZCggZWwgKVxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9IFxuXG5cbiAgICBzZXRSZXNwb25zZVRleHQoIHsga2V5LCByb3dzIH0gKSB7XG4gICAgICAgIGNvbnN0IGRpdnMgPSBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoIGAjJHtrZXl9IGRpdi5zdGVwLW1lc3NhZ2VgIClcblxuICAgICAgICByb3dzXG4gICAgICAgICAgICAuZm9yRWFjaCggKCByb3csIGluZGV4ICkgPT4ge1xuICAgICAgICAgICAgICAgIGRpdnNbIGluZGV4IF0udGV4dENvbnRlbnQgPSByb3dcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIFxuICAgIFxuICAgIGdldFNlbGVjdE9wdGlvbiggeyBrZXkgfSApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCBgIyR7a2V5fSBzZWxlY3Quc3RlcC1kcm9wZG93bmAgKVxuICAgICAgICByZXR1cm4gc2VsZWN0Lm9wdGlvbnNbIHNlbGVjdC5zZWxlY3RlZEluZGV4IF0udmFsdWVcbiAgICB9XG5cblxuICAgIG5leHRTdGVwKCkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0XG4gICAgICAgICAgICAua2V5cyggdGhpcy4jY29uZmlnWydkb20nXSApXG4gICAgICAgIGNvbnN0IGluZGV4ID0ga2V5c1xuICAgICAgICAgICAgLmZpbmRJbmRleCggYSA9PiBhID09PSB0aGlzLiNzdGF0ZVsnYWN0aXZlS2V5J10gKVxuXG4gICAgICAgIGlmKCBrZXlzLmxlbmd0aCA9PT0gaW5kZXggKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c1JvdyggeyBcbiAgICAgICAgICAgICAgICAna2V5Jzoga2V5c1sgaW5kZXggXSwgXG4gICAgICAgICAgICAgICAgJ3N0YXRlJzogJ2RvbmUnXG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdHVzUm93KCB7IFxuICAgICAgICAgICAgICAgICdrZXknOiBrZXlzWyBpbmRleCBdLCBcbiAgICAgICAgICAgICAgICAnc3RhdGUnOiAnZG9uZSdcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXR1c1JvdyggeyBcbiAgICAgICAgICAgICAgICAna2V5Jzoga2V5c1sgaW5kZXggKyAxIF0sIFxuICAgICAgICAgICAgICAgICdzdGF0ZSc6ICdhY3RpdmUnXG4gICAgICAgICAgICB9IClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0KICAgIH0KfQ==